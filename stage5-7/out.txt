START
IN R5
MOV R4, 100
MOV [R4], R5
MOV R0, 0
MOV R4, 103
MOV [R4], R0
L1: MOV R4, 100
MOV R0, [R4]
MOV R3, R0
MOV R4, 103
MOV R0, [R4]
LT R0, R3
JZ R0, L2
MOV R4, 103
MOV R0, [R4]
IN R5
MOV R4, 0
ADD R4, R0
MOV [R4], R5
MOV R4, 103
MOV R0, [R4]
MOV R1, 1
ADD R0, R1
MOV R4, 103
MOV [R4], R0
JMP L1
L2: MOV R0, 0
MOV R4, 103
MOV [R4], R0
L3: MOV R4, 100
MOV R0, [R4]
MOV R3, R0
MOV R4, 103
MOV R0, [R4]
LT R0, R3
JZ R0, L4
MOV R0, 0
MOV R4, 102
MOV [R4], R0
L5: MOV R4, 100
MOV R0, [R4]
MOV R1, 1
SUB R0, R1
MOV R3, R0
MOV R4, 102
MOV R0, [R4]
LT R0, R3
JZ R0, L6
MOV R4, 102
MOV R0, [R4]
MOV R1, 1
ADD R0, R1
MOV R4, 0
ADD R4, R0
MOV R0, [R4]
MOV R3, R0
MOV R4, 102
MOV R0, [R4]
MOV R4, 0
ADD R4, R0
MOV R0, [R4]
GT R0, R3
JZ R0, L7
MOV R4, 102
MOV R0, [R4]
MOV R4, 0
ADD R4, R0
MOV R0, [R4]
MOV R4, 101
MOV [R4], R0
MOV R4, 102
MOV R0, [R4]
MOV R3, 0
ADD R3, R0
MOV R4, 102
MOV R0, [R4]
MOV R1, 1
ADD R0, R1
MOV R4, 0
ADD R4, R0
MOV R0, [R4]
MOV [R3], R0
MOV R4, 102
MOV R0, [R4]
MOV R1, 1
ADD R0, R1
MOV R3, 0
ADD R3, R0
MOV R4, 101
MOV R0, [R4]
MOV [R3], R0
L7: MOV R4, 102
MOV R0, [R4]
MOV R1, 1
ADD R0, R1
MOV R4, 102
MOV [R4], R0
JMP L5
L6: MOV R4, 103
MOV R0, [R4]
MOV R1, 1
ADD R0, R1
MOV R4, 103
MOV [R4], R0
JMP L3
L4: MOV R0, 0
MOV R4, 103
MOV [R4], R0
L8: MOV R4, 100
MOV R0, [R4]
MOV R3, R0
MOV R4, 103
MOV R0, [R4]
LT R0, R3
JZ R0, L9
MOV R4, 103
MOV R0, [R4]
MOV R4, 0
ADD R4, R0
MOV R0, [R4]
OUT R0
MOV R4, 103
MOV R0, [R4]
MOV R1, 1
ADD R0, R1
MOV R4, 103
MOV [R4], R0
JMP L8
L9: HALT
